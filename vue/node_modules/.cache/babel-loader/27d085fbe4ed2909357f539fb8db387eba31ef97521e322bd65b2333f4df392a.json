{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport request from \"@/utils/request\";\nexport default {\n  name: \"ManagerLayout\",\n  data() {\n    return {\n      // 获取当前登录用户的信息\n      user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {}\n    };\n  },\n  // 监听到更新头像的事件，更新头像\n  mounted() {\n    this.$bus.$on('updateTx', tx => {\n      this.user.tx = tx;\n    });\n  },\n  methods: {\n    // 根据不同用户身份跳转到对应的个人信息页面\n    goToPerson() {\n      if (this.user.role === 1) {\n        this.$router.push(\"/end/pAdmin\");\n      }\n      if (this.user.role === 2) {\n        this.$router.push(\"/end/pUser\");\n      }\n    },\n    // navToFront() {\n    // },\n\n    // 清除本地存储的用户信息并跳转到登录页面\n    logout() {\n      localStorage.removeItem(\"user\");\n      this.$router.push(\"/login\");\n    }\n  }\n};","map":{"version":3,"names":["request","name","data","user","localStorage","getItem","JSON","parse","mounted","$bus","$on","tx","methods","goToPerson","role","$router","push","logout","removeItem"],"sources":["src/views/ManagerLayout.vue"],"sourcesContent":["<!-- 用户的后台页面，菜单中的子页面写在manager文件夹下 -->\r\n<template>\r\n  <div>\r\n    <!-- 头部 -->\r\n    <div class=\"manager-header\" id=\"header\">\r\n      <a href=\"\">\r\n        <div class=\"manager-header-left\">\r\n          <img src=\"@/assets/imgs/logo.jpg\" alt=\"\">\r\n          <div class=\"title\">商品推荐系统</div>\r\n        </div>\r\n      </a>\r\n\r\n      <div class=\"manager-header-center\">欢迎您，{{ user.username }}</div>\r\n\r\n      <!-- 用户头像的下拉菜单 -->\r\n      <div class=\"manager-header-right\">\r\n        <el-dropdown placement=\"bottom\">\r\n          <!-- 显示登录用户的头像，是从user.avatar中获取 -->\r\n          <div class=\"avatar-box\"><img :src=\"user.avatar\"></div>\r\n          <el-dropdown-menu slot=\"dropdown\">\r\n            <!-- 点击个人信息的时候调用goToPerson方法 -->\r\n            <div @click=\"goToPerson()\"><el-dropdown-item>个人信息</el-dropdown-item></div>\r\n            <a href=\"/front/index\"><div><el-dropdown-item>前往前台</el-dropdown-item></div></a>\r\n            <!-- 点击退出登录的时候调用logout方法 -->\r\n            <div @click=\"logout()\"><el-dropdown-item>退出登录</el-dropdown-item></div>\r\n          </el-dropdown-menu>\r\n        </el-dropdown>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 左侧的菜单以及展开的子页面 -->\r\n    <div style=\"display: flex\">\r\n      <!-- 菜单 -->\r\n      <div id=\"main-menu\">\r\n        <div class=\"main-nav\">\r\n          <!-- :default-active=\"$route.path\"是绑定当前激活的菜单项为当前路由 -->\r\n          <!-- router是启动路由模式，点击菜单项会导航到对应路由 -->\r\n           <!-- 过程：例如点击系统首页下的数据分析的时候，index=\"/end/index\"触发导航，Vue Router会将浏览器地址栏的路径进行更改，通过router-view进行渲染 -->\r\n          <el-menu :default-active=\"$route.path\" router class=\"main-nav-menu\">\r\n            <!-- 这个菜单栏只有管理员能看到 -->\r\n\t\t\t\t\t\t<el-submenu index=\"1\" v-if=\"user.role === 1\">\r\n\t\t\t\t\t\t\t<template slot=\"title\"><i class=\"el-icon-house\"></i><span>系统首页</span></template>\r\n\t\t\t\t\t\t\t<el-menu-item index=\"/end/dataanalysis\">数据分析</el-menu-item>\r\n\t\t\t\t\t\t</el-submenu>\r\n\r\n            <!-- 这个菜单栏只有管理员能看到 -->\r\n\t\t\t\t\t\t<el-submenu index=\"2\" v-if=\"user.role === 1\">\r\n\t\t\t\t\t\t\t<template slot=\"title\"><i class=\"el-icon-user\"></i><span>用户管理</span></template>\r\n\t\t\t\t\t\t\t<el-menu-item index=\"/end/admin\">管理员</el-menu-item>\r\n\t\t\t\t\t\t\t<el-menu-item index=\"/end/user\">用户</el-menu-item>\r\n\t\t\t\t\t\t</el-submenu>\r\n            \r\n            <!-- index是菜单栏中每个子菜单的唯一表示 -->\r\n\t\t\t\t\t\t<el-submenu index=\"3\">\r\n\t\t\t\t\t\t\t<template slot=\"title\"><i class=\"el-icon-folder-opened\"></i><span>信息管理</span></template>\r\n              <!-- user.role === 1的是只有管理员能看到，user.role !== 1的是只有普通用户能看到，没写的就是都看得到 -->\r\n\t\t\t\t\t\t\t<el-menu-item index=\"/end/notice\" v-if=\"user.role === 1\">系统公告</el-menu-item>\r\n              <el-menu-item index=\"/end/type\" v-if=\"user.role === 1\">商品分类</el-menu-item>\r\n              <el-menu-item index=\"/end/goods\" v-if=\"user.role === 1\">商品管理</el-menu-item>\r\n              <el-menu-item index=\"/end/hotgoods\" v-if=\"user.role === 1\">热销管理</el-menu-item>\r\n              <el-menu-item index=\"/end/advertising\" v-if=\"user.role === 1\">广告位管理</el-menu-item>\r\n              <el-menu-item index=\"/end/banner\" v-if=\"user.role === 1\">轮播图管理</el-menu-item>\r\n              <el-menu-item index=\"/end/order\" v-if=\"user.role === 1\">订单管理</el-menu-item>\r\n\t\t\t\t\t\t\t<el-menu-item index=\"/end/comment\">评论管理</el-menu-item>\r\n\t\t\t\t\t\t\t<el-menu-item index=\"/end/address\" v-if=\"user.role !== 1\">地址管理</el-menu-item>\r\n\t\t\t\t\t\t</el-submenu>\r\n\r\n\t\t\t\t\t\t<el-submenu index=\"4\">\r\n\t\t\t\t\t\t\t<template slot=\"title\"><i class=\"el-icon-setting\"></i><span>系统管理</span></template>\r\n\t\t\t\t\t\t\t<el-menu-item index=\"/end/password\">修改密码</el-menu-item>\r\n              <!-- 点击退出登录的时候调用logout方法 -->\r\n\t\t\t\t\t\t\t<el-menu-item index=\"/end/logout\" @click=\"logout()\">退出登录</el-menu-item>\r\n\t\t\t\t\t\t</el-submenu>\r\n          </el-menu>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 对应的子页面 -->\r\n      <div class=\"main-body\">\r\n        <div>\r\n          <!-- 用户在菜单栏选择切换的时候，会渲染对应的子页面 -->\r\n          <!-- 过程：例如点击系统首页下的数据分析的时候，index=\"/end/index\"触发导航，Vue Router会将浏览器地址栏的路径进行更改，通过router-view进行渲染 -->\r\n          <router-view />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\n\r\nexport default {\r\n  name: \"ManagerLayout\",\r\n  data () {\r\n    return {\r\n      // 获取当前登录用户的信息\r\n      user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {},\r\n    }\r\n  },\r\n\r\n  // 监听到更新头像的事件，更新头像\r\n  mounted() {\r\n    this.$bus.$on('updateTx', (tx) => {\r\n      this.user.tx = tx\r\n    })\r\n  },\r\n\r\n  methods: {\r\n    // 根据不同用户身份跳转到对应的个人信息页面\r\n    goToPerson() {\r\n\t\t\tif (this.user.role === 1) {\r\n\t\t\t\tthis.$router.push(\"/end/pAdmin\")\r\n\t\t\t}\r\n\t\t\tif (this.user.role === 2) {\r\n\t\t\t\tthis.$router.push(\"/end/pUser\")\r\n\t\t\t}\r\n\r\n    },\r\n\r\n    // navToFront() {\r\n    // },\r\n\r\n    // 清除本地存储的用户信息并跳转到登录页面\r\n    logout() {\r\n      localStorage.removeItem(\"user\");\r\n      this.$router.push(\"/login\");\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- 引用manager.css里面设置的css样式 -->\r\n<style scoped>\r\n  @import \"@/assets/css/manager.css\";\r\n</style>"],"mappings":";AA0FA,OAAAA,OAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACA;MACAC,IAAA,EAAAC,YAAA,CAAAC,OAAA,WAAAC,IAAA,CAAAC,KAAA,CAAAH,YAAA,CAAAC,OAAA;IACA;EACA;EAEA;EACAG,QAAA;IACA,KAAAC,IAAA,CAAAC,GAAA,aAAAC,EAAA;MACA,KAAAR,IAAA,CAAAQ,EAAA,GAAAA,EAAA;IACA;EACA;EAEAC,OAAA;IACA;IACAC,WAAA;MACA,SAAAV,IAAA,CAAAW,IAAA;QACA,KAAAC,OAAA,CAAAC,IAAA;MACA;MACA,SAAAb,IAAA,CAAAW,IAAA;QACA,KAAAC,OAAA,CAAAC,IAAA;MACA;IAEA;IAEA;IACA;;IAEA;IACAC,OAAA;MACAb,YAAA,CAAAc,UAAA;MACA,KAAAH,OAAA,CAAAC,IAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}